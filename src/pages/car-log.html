<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8">
  <title>Car Log â€“ Tudruj</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style.css">
</head>

<body data-page="app" data-app-title="ğŸš— Car Log">
<script>window.FEATURE_KEY = "car-log";</script>

<main class="container">

  <!-- NAWIGACJA -->
  <div id="app-nav-root"></div>

  <!-- MODAL WYBORU AUTA -->
  <div id="car-selection-overlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>Wybierz samochÃ³d</h2>
      <ul id="car-selection-list" class="car-selection-list">
        <!-- Lista aut wpadnie tu dynamicznie -->
      </ul>
    </div>
  </div>

  <!-- TOOLBAR AUTA -->
  <section class="car-toolbar">
    <div class="car-current">
      ğŸš— <strong id="car-name-display">---</strong>
      <span class="car-year" id="car-year-display">---</span>
      <span class="car-status">---</span>
    </div>

    <div class="car-actions">
      <button class="btn-secondary" id="change-car-btn">ZmieÅ„ auto</button>
      <button class="btn-primary" id="add-fuel-btn">Dodaj tankowanie</button>
    </div>
  </section>

  <!-- KARTA: PODSTAWOWE INFO -->
  <section class="card">
    <h2>ğŸš— Podstawowe informacje</h2>
    <ul class="info-list">
      <li><strong>Model:</strong> <span id="info-model">---</span></li>
      <li><strong>Rok:</strong> <span id="info-year">---</span></li>
      <li><strong>Silnik:</strong> <span id="info-engine">---</span></li>
      <li><strong>VIN:</strong> <span id="info-vin">---</span></li>
    </ul>
  </section>

  <!-- KAFELEK: STATYSTYKI -->
  <section class="card" id="stats-card">
    <h2>ğŸ“ˆ Statystyki</h2>
    <div class="mileage-grid">
      <div>
        <span class="label">ğŸ™ï¸ Miasto</span>
        <span class="value" id="stats-city">â€”</span>
      </div>
      <div>
        <span class="label">ğŸ›£ï¸ Trasa</span>
        <span class="value" id="stats-highway">â€”</span>
      </div>
      <div>
        <span class="label">ğŸ”„ Mieszany</span>
        <span class="value" id="stats-mixed">â€”</span>
      </div>
      <div>
        <span class="label">â›½ Åšrednio zÅ‚/L</span>
        <span class="value" id="stats-avg-price">â€”</span>
      </div>
      <div>
        <span class="label">ğŸ’¸ Åšredni koszt 100km</span>
        <span class="value" id="stats-avg-cost">â€”</span>
      </div>
      <div>
        <span class="label">ğŸ§ª Åšrednio L/tank</span>
        <span class="value" id="stats-avg-liters">â€”</span>
      </div>
      <div>
        <span class="label">â›½ ÅÄ…cznie litrÃ³w</span>
        <span class="value" id="stats-total-liters">â€”</span>
      </div>
      <div>
        <span class="label">ğŸ’° ÅÄ…czny koszt</span>
        <span class="value" id="stats-total-cost">â€”</span>
      </div>
    </div>

    <h3>Rocznie</h3>
    <ul class="info-list" style="margin-top:0" id="stats-yearly"></ul>
  </section>

  <!-- KARTA: PRZEBIEG -->
  <section class="card mileage-card">
    <h2>ğŸ“Š Przebieg</h2>

    <div class="mileage-grid">
      <div>
        <span class="label">Przy zakupie</span>
        <span class="value" id="mileage-purchase">--- km</span>
      </div>

      <div>
        <span class="label">Aktualny</span>
        <span class="value" id="mileage-current">--- km</span>
      </div>

      <div class="owned">
        <span class="label">Przejechane</span>
        <span class="value accent" id="mileage-owned">--- km</span>
      </div>
    </div>
  </section>

  <!-- KARTA: OSTATNIE TANKOWANIA -->
  <section class="card">
    <h2>â›½ Ostatnie tankowania</h2>

    <ul class="fuel-list" id="fuel-list-container">
      <li class="loading">Åadowanie tankowaÅ„...</li>
    </ul>

    <div class="card-footer">
      <a class="btn-link" href="/car-fuel-history.html">Zobacz wszystkie tankowania â†’</a>
    </div>
  </section>

  <!-- MODAL: DODAJ TANKOWANIE -->
  <div id="add-fuel-overlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>Dodaj tankowanie</h2>
      <form id="add-fuel-form">
        <div class="form-row">
          <label>Data</label>
          <input type="date" id="fuel-date" required />
        </div>
        <div class="form-row">
          <label>Litry</label>
          <input type="number" id="fuel-liters" step="0.01" min="0" required />
        </div>
        <div class="form-row">
          <label>Licznik caÅ‚kowity (km)</label>
          <input type="number" id="fuel-meter" step="0.1" min="0" required />
        </div>
        <div class="form-row">
          <label>Dystans od tankowania (km)</label>
          <input type="number" id="fuel-trip" step="0.1" min="0" />
        </div>
        <div class="form-row">
          <label>ÅÄ…czna cena (zÅ‚)</label>
          <input type="number" id="fuel-total-price" step="0.01" min="0" required />
        </div>
        <div class="form-row">
          <label>Cena za litr (zÅ‚)</label>
          <input type="number" id="fuel-price-per-liter" step="0.01" min="0" required />
        </div>
        <div class="form-row">
          <label>Tryb jazdy</label>
          <select id="fuel-driving-mode">
            <option value="MIXED" selected>Mieszany</option>
            <option value="CITY">Miasto</option>
            <option value="HIGHWAY">Trasa</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" class="btn-secondary" id="cancel-add-fuel">Anuluj</button>
          <button type="submit" class="btn-primary">Zapisz</button>
        </div>
      </form>
    </div>
  </div>

</main>

<script type="module" src="/app.js"></script>
</body>

</html>
