generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
   url = env("DATABASE_URL")
}

/// =======================
/// features MODULE
/// =======================

model App {
  id          String  @id @default(uuid())
  key         String  @unique
  name        String
  description String
  icon        String
  route       String
  enabled     Boolean @default(true)
  order       Int
}

/// =======================
/// COMMENTARY MODULE
/// =======================

model Commentator {
  id      String @id @default(uuid())
  key     String @unique
  name    String
  style   String
  enabled Boolean @default(true)

  commentaries Commentary[]
}

model Commentary {
  id             String   @id @default(uuid())
  text           String
  featureKeys    String[]
  tags           String[]
  enabled        Boolean  @default(true)

  commentatorId  String
  commentator    Commentator @relation(fields: [commentatorId], references: [id])
}

model CommentaryPresenter {
  featureKey     String
  commentatorId  String
  priority       Int
  @@id([featureKey])
}


/// =======================
/// Car MODULE
/// =======================

